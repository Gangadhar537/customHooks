{"ast":null,"code":"import _regeneratorRuntime from \"/project/customHooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/project/customHooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/project/customHooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _s = $RefreshSig$();\n\nimport { useState, useCallback } from 'react';\n\nvar useHttp = function useHttp() {\n  _s();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var sendRequest = useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(requestConfig, applyData) {\n      var response, data;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading(true);\n              setError(null);\n              _context.prev = 2;\n              _context.next = 5;\n              return fetch(requestConfig.url, {\n                method: requestConfig.method ? requestConfig.method : 'GET',\n                headers: requestConfig.headers ? requestConfig.headers : {},\n                body: requestConfig.body ? JSON.stringify(requestConfig.body) : null\n              });\n\n            case 5:\n              response = _context.sent;\n\n              if (response.ok) {\n                _context.next = 8;\n                break;\n              }\n\n              throw new Error('Request failed!');\n\n            case 8:\n              _context.next = 10;\n              return response.json();\n\n            case 10:\n              data = _context.sent;\n              applyData(data);\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](2);\n              setError(_context.t0.message || 'Something went wrong!');\n\n            case 17:\n              setIsLoading(false);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 14]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }(), []);\n  return {\n    isLoading: isLoading,\n    error: error,\n    sendRequest: sendRequest\n  };\n};\n\n_s(useHttp, \"FFcdbk+kTfFKRpY6eKN2uj4p9Os=\");\n\nexport default useHttp;","map":{"version":3,"names":["useState","useCallback","useHttp","isLoading","setIsLoading","error","setError","sendRequest","requestConfig","applyData","fetch","url","method","headers","body","JSON","stringify","response","ok","Error","json","data","message"],"sources":["/project/customHooks/src/hooks/use-http.js"],"sourcesContent":["import { useState, useCallback } from 'react';\r\n\r\nconst useHttp = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const sendRequest = useCallback(async (requestConfig, applyData) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(requestConfig.url, {\r\n        method: requestConfig.method ? requestConfig.method : 'GET',\r\n        headers: requestConfig.headers ? requestConfig.headers : {},\r\n        body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Request failed!');\r\n      }\r\n\r\n      const data = await response.json();\r\n      applyData(data);\r\n    } catch (err) {\r\n      setError(err.message || 'Something went wrong!');\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  return {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n  };\r\n};\r\n\r\nexport default useHttp;"],"mappings":";;;;;;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EAAA;;EACpB,gBAAkCF,QAAQ,CAAC,KAAD,CAA1C;EAAA;EAAA,IAAOG,SAAP;EAAA,IAAkBC,YAAlB;;EACA,iBAA0BJ,QAAQ,CAAC,IAAD,CAAlC;EAAA;EAAA,IAAOK,KAAP;EAAA,IAAcC,QAAd;;EAEA,IAAMC,WAAW,GAAGN,WAAW;IAAA,sEAAC,iBAAOO,aAAP,EAAsBC,SAAtB;MAAA;MAAA;QAAA;UAAA;YAAA;cAC9BL,YAAY,CAAC,IAAD,CAAZ;cACAE,QAAQ,CAAC,IAAD,CAAR;cAF8B;cAAA;cAAA,OAILI,KAAK,CAACF,aAAa,CAACG,GAAf,EAAoB;gBAC9CC,MAAM,EAAEJ,aAAa,CAACI,MAAd,GAAuBJ,aAAa,CAACI,MAArC,GAA8C,KADR;gBAE9CC,OAAO,EAAEL,aAAa,CAACK,OAAd,GAAwBL,aAAa,CAACK,OAAtC,GAAgD,EAFX;gBAG9CC,IAAI,EAAEN,aAAa,CAACM,IAAd,GAAqBC,IAAI,CAACC,SAAL,CAAeR,aAAa,CAACM,IAA7B,CAArB,GAA0D;cAHlB,CAApB,CAJA;;YAAA;cAItBG,QAJsB;;cAAA,IAUvBA,QAAQ,CAACC,EAVc;gBAAA;gBAAA;cAAA;;cAAA,MAWpB,IAAIC,KAAJ,CAAU,iBAAV,CAXoB;;YAAA;cAAA;cAAA,OAcTF,QAAQ,CAACG,IAAT,EAdS;;YAAA;cActBC,IAdsB;cAe5BZ,SAAS,CAACY,IAAD,CAAT;cAf4B;cAAA;;YAAA;cAAA;cAAA;cAiB5Bf,QAAQ,CAAC,YAAIgB,OAAJ,IAAe,uBAAhB,CAAR;;YAjB4B;cAmB9BlB,YAAY,CAAC,KAAD,CAAZ;;YAnB8B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD;;IAAA;MAAA;IAAA;EAAA,KAoB5B,EApB4B,CAA/B;EAsBA,OAAO;IACLD,SAAS,EAATA,SADK;IAELE,KAAK,EAALA,KAFK;IAGLE,WAAW,EAAXA;EAHK,CAAP;AAKD,CA/BD;;GAAML,O;;AAiCN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}